# 관리자 로그인
관리자 페이지 접근을 위한 독립된 로그인 페이지 입니다.
> 관리자 기능을 사용하기 위해서는 `jiny/auth` 패키지에 의존성을 가지고 있습니다.

## prefix
외부에서 쉽게 관리자 사이트에 접속을 허용해서는 안됩니다. 그래서, 외부에 쉽게 노출되지 않아야 하는 url 경로를 사용해야 합니다. 
이를 위해서 외부에서 접속 가능한 경로에 `prefix`를 붙여서 사용할 수 있습니다.

`/config/admin/setting.php` 에서 prefix=admin 으로 기본값이 되어 있습니다. 사용자마다 prefix 값을 변경할 수 있습니다.

## 관리자 인증 (/admin/login)
관리자는 서버에 직접 인증을 통하여 시스템의 기능들을 설정합니다. 따라서, 보안을 한층 더 강화된 Session 인증 방식을 적용합니다.

관리자 회원은 별도로 분리된 `admin_users` 테이블에 기록됩니다.

## 관리자 로그아웃 (/admin/logout)
관리자 접속을 해제 합니다.

## 인증 흐름 및 접근 제어

- /admin 접근 시 인증된 관리자만 대시보드에 접근할 수 있습니다.
- 인증되지 않은 사용자가 /admin에 접근하면 /admin/login으로 자동 리다이렉트됩니다.
- 로그인 성공 시 /admin(대시보드)로 이동합니다.
- 로그아웃(/admin/logout) 시 세션이 해제되고 /admin/login으로 이동합니다.
- 모든 로그인/로그아웃 시도는 admin_user_logs 테이블에 기록됩니다.

## 관리자 인증 미들웨어

- `/admin` 등 관리자 보호 라우트에는 `admin.auth` 미들웨어가 적용됩니다.
- 이 미들웨어는 세션 인증과 동시에 `admin_users` 테이블의 회원인지 확인합니다.
- 인증되지 않은 사용자는 `/admin/login`으로 리다이렉트됩니다.




